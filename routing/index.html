<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="CnvHeaderVersion" content="v5.0"/><title data-react-helmet="true">Routing | Services Engineering</title><link rel="stylesheet" href="/services-engineering/main-88ff4ca322d1d509894d.css"/><link href="https://fonts.googleapis.com/css?family=Montserrat:400,900" rel="stylesheet"/><style>.cxsync-279093126{display:flex;align-items:stretch;justify-content:flex-start;min-height:100vh;color:#444;font-family:Montserrat, Arial, sans-serif}.cxsync-2249242545{flex:0 0 15rem;padding:3rem 1.5rem;background-color:#F4F4F4}.cxsync-2957022663{flex:1;padding:3rem;max-width:60rem}.cxsync-3751804845{}.cxsync-3751804845 ul{margin:-1.5rem}.cxsync-3751804845 li{margin:1.5rem}.cxsync-2423527651{font-family:Montserrat, Arial, sans-serif;font-weight:900}.cxsync-1263781436{margin-bottom:1.5rem}.cxsync-324972854{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:2.48832rem;margin-top:1.5rem;margin-bottom:1.5rem}.cxsync-324972854:first-child{margin-top:0px}.cxsync-2590042826{}.cxsync-2590042826 h1{padding:3rem 0 1.5rem}.cxsync-2590042826 h2{padding:3rem 0 1.5rem}.cxsync-2590042826 h3{padding:3rem 0 1.5rem}.cxsync-2590042826 a{opacity:0.75;border-bottom:2px solid #8BBF47;transition:ease-out .25s}.cxsync-2590042826 a:hover{opacity:1}.cxsync-2590042826 .highlight{background-color:#E7F2D9}.cxsync-137111509{font-family:Montserrat, Arial, sans-serif}.cxsync-137111509 p{padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 ul{list-style-type:disc;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 ol{list-style-type:decimal;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 li{margin-left:1.5rem}.cxsync-137111509 blockquote{max-width:37.5rem;padding-bottom:1.5rem;margin:0 auto;text-align:center;line-height:1.5;font-weight:700;font-size:1.2rem}.cxsync-137111509 blockquote:before{content:open-quote}.cxsync-137111509 blockquote:after{content:close-quote}.cxsync-137111509 img{display:block;margin:0 auto;width:auto;max-width:100%}.cxsync-137111509 iframe{padding-bottom:3rem}.cxsync-137111509 strong{font-weight:700}.cxsync-137111509 em{font-style:italic}.cxsync-137111509 h1{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:2.0736rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h2{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.728rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h3{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.44rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h4{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.2rem;padding-bottom:1.5rem}.cxsync-137111509 h5{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1rem;padding-bottom:1.5rem}.cxsync-137111509 h6{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:0.8333333333333334rem;padding-bottom:1.5rem}.cxsync-137111509 a{opacity:0.75;border-bottom:2px solid #8BBF47;transition:ease-out .25s}.cxsync-137111509 a:hover{opacity:1}.cxsync-137111509 .highlight{background-color:#E7F2D9}.cxsync-2282092937{position:relative;margin-top:0.75rem;margin-bottom:1.5rem;padding:0.75rem 1.5rem;background-color:#F4F4F4;font-size:0.8333333333333334rem;line-height:1.75}.cxsync-4258600099{position:absolute;bottom:100%;right:0px;padding:0.375rem 0.75rem;background-color:#F4F4F4;font-size:0.6944444444444444rem}</style><script>
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-PN6K34');</script></head><body><main id="mount"><div class="cxsync-279093126" data-reactroot="" data-reactid="1" data-react-checksum="1252946328"><aside class="cxsync-2249242545" data-reactid="2"><nav class="cxsync-3751804845" data-reactid="3"><ul data-reactid="4"><li data-reactid="5"><a href="/services-engineering/" data-reactid="6">Overview</a></li><li data-reactid="7"><a href="/services-engineering/getting-started" data-reactid="8">Getting Started</a></li><li data-reactid="9"><a href="/services-engineering/components" data-reactid="10">Components</a></li><li data-reactid="11"><a href="/services-engineering/routing" class="cxsync-2423527651" data-reactid="12">Routing</a></li><li data-reactid="13"><a href="/services-engineering/state" data-reactid="14">State</a></li><li data-reactid="15"><a href="/services-engineering/styles" data-reactid="16">Styles</a></li><li data-reactid="17"><a href="/services-engineering/content" data-reactid="18">Content</a></li><li data-reactid="19"><a href="/services-engineering/integration" data-reactid="20">Integration</a></li><li data-reactid="21"><a href="/services-engineering/tests" data-reactid="22">Tests</a></li><li data-reactid="23"><a href="/services-engineering/build" data-reactid="24">Build</a></li><li data-reactid="25"><a href="/services-engineering/deploy" data-reactid="26">Deploy</a></li></ul></nav></aside><section class="cxsync-2957022663" data-reactid="27"><div data-reactid="28"><!-- react-empty: 29 --><h2 class="c11n-heading cxsync-324972854" data-reactid="30">Routing</h2><div class="c11n-rich-text cxsync-137111509" data-reactid="31"><p data-reactid="32">We use React Router for routing within our application. React Router allows us to define our routes in JSX syntax, providing a relatively simple API.</p><p data-reactid="33">React Router works nicely on the server also, which allows us to make use of server side rendering in our isomorphic apps.</p><h3 data-reactid="34">Configuring Routes</h3><p data-reactid="35"><!-- react-text: 36 -->The below example is a typical configuration for our routes, where we specify which component to render for a given route. This route config is passed into Boiler Room Runner in our <!-- /react-text --><span class="highlight" data-reactid="37">client.js</span><!-- react-text: 38 --> and <!-- /react-text --><span class="highlight" data-reactid="39">server.js</span><!-- react-text: 40 -->.<!-- /react-text --></p><p data-reactid="41"><!-- react-text: 42 -->The wrapping route allows us to define a site wide header and footer in a SiteContainer component. Whereas the <!-- /react-text --><span class="highlight" data-reactid="43">slug</span><!-- react-text: 44 --> param allows us to have dynamic routes basic on URL params.<!-- /react-text --></p><div class="cxsync-2282092937" data-reactid="45"><span class="cxsync-4258600099" data-reactid="46">javascript</span><pre data-reactid="47"><code data-reactid="48">import React from &#x27;react&#x27;
import { Route, IndexRoute } from &#x27;react-router&#x27;

import SiteContainer from &#x27;path/to/component&#x27;
import Home from &#x27;path/to/component&#x27;
import About from &#x27;path/to/component&#x27;
import FAQs from &#x27;path/to/component&#x27;
import Story from &#x27;path/to/component&#x27;

export default (
  &lt;Route path=&#x27;/&#x27; component={SiteContainer}&gt;
    &lt;IndexRoute component={Home} /&gt;
    &lt;Route path=&#x27;about&#x27; component={About} /&gt;
    &lt;Route path=&#x27;faqs&#x27; component={FAQs} /&gt;
    &lt;Route path=&#x27;story/:slug&#x27; component={Story} /&gt;
  &lt;/Route&gt;
)</code></pre></div><h3 data-reactid="49">Route Components</h3><p data-reactid="50">In those top level components that are being specified for each of the routes, we will usually do things like fire off requests to fetch and provide the relevent data for that component.</p><p data-reactid="51"><!-- react-text: 52 -->So a typical route level component might look something like this. We are using redial&#x27;s <!-- /react-text --><span class="highlight" data-reactid="53">provideHooks</span><!-- react-text: 54 --> to fetch our home content when this component is used, and we are then using react-redux&#x27;s <!-- /react-text --><span class="highlight" data-reactid="55">connect</span><!-- react-text: 56 --> to pass that content into our component.<!-- /react-text --></p><div class="cxsync-2282092937" data-reactid="57"><span class="cxsync-4258600099" data-reactid="58">javascript</span><pre data-reactid="59"><code data-reactid="60">import { provideHooks } from &#x27;redial&#x27;
import { connect } from &#x27;react-redux&#x27;
import { compose } from &#x27;redux&#x27;
import { fetchHomeContent } from &#x27;path/to/store&#x27;

import HomeLayout from &#x27;path/to/components&#x27;

const hooks = {
  fetch: ({ dispatch }) =&gt; dispatch(fetchHomeContent())
}

const mapState = ({ home }) =&gt; ({ home })

export default compose(
  connect(mapState),
  provideHooks(hooks)
)(HomeLayout)
</code></pre></div><h3 data-reactid="61">Routing Around the App</h3><p data-reactid="62"><!-- react-text: 63 -->We can use the <!-- /react-text --><span class="highlight" data-reactid="64">Link</span><!-- react-text: 65 --> component to then move users around the app, in a similar way to how you would expect a traditional a tag to work, but in our case the user will be transitioning client side only i.e. not requesting the page from the server.<!-- /react-text --></p><div class="cxsync-2282092937" data-reactid="66"><span class="cxsync-4258600099" data-reactid="67">javascript</span><pre data-reactid="68"><code data-reactid="69">import React from &#x27;react&#x27;
import { Link } from &#x27;react-router&#x27;

const Menu = () =&gt; (
  &lt;ul&gt;
    &lt;li&gt;&lt;Link to=&#x27;/&#x27;&gt;Home&lt;/Link&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Link to=&#x27;/about&#x27;&gt;About Us&lt;/Link&gt;&lt;/li&gt;
    &lt;li&gt;&lt;Link to=&#x27;/faqs&#x27;&gt;FAQs&lt;/Link&gt;&lt;/li&gt;
  &lt;/ul&gt;
)

export default Menu</code></pre></div><h3 data-reactid="70">withRouter</h3><p data-reactid="71"><!-- react-text: 72 -->React Router also provides a <!-- /react-text --><span class="highlight" data-reactid="73">withRouter</span><!-- react-text: 74 --> higher order component, which we can use to pass in routing details and functionality to a component.<!-- /react-text --></p><p data-reactid="75">We could use this to programatically move the user to another part of the app or fetch a particular resource based on a URL param.</p><div class="cxsync-2282092937" data-reactid="76"><span class="cxsync-4258600099" data-reactid="77">javascript</span><pre data-reactid="78"><code data-reactid="79">import React from &#x27;react&#x27;
import { withRouter } from &#x27;react-router&#x27;

class MyProtectedRoute extends Component {
  componentWillMount () {
    if (!isAuthorised()) {
      router.push(&#x27;/&#x27;)
    }
  }

  render () {
    return &lt;div&gt;Protected&lt;/div&gt;
  }
}

export default withRouter(MyProtectedRoute)</code></pre></div><h3 data-reactid="80">Resources</h3><ul data-reactid="81"><li data-reactid="82"><a href="https://github.com/ReactTraining/react-router/tree/v3/docs" data-reactid="83">React Router</a><!-- react-text: 84 -->: routing for React apps (we are currently locked on v3)<!-- /react-text --></li></ul></div></div></section></div></main><script id="initial-state" type="application/json">{"blank":{}}</script><script src="/services-engineering/main-88ff4ca322d1d509894d.js"></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PN6K34" height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript></body></html>