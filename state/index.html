<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="CnvHeaderVersion" content="v5.0"/><title data-react-helmet="true">State | Services Engineering</title><link rel="stylesheet" href="/services-engineering/main-88ff4ca322d1d509894d.css"/><link href="https://fonts.googleapis.com/css?family=Montserrat:400,900" rel="stylesheet"/><style>.cxsync-279093126{display:flex;align-items:stretch;justify-content:flex-start;min-height:100vh;color:#444;font-family:Montserrat, Arial, sans-serif}.cxsync-2249242545{flex:0 0 15rem;padding:3rem 1.5rem;background-color:#F4F4F4}.cxsync-2957022663{flex:1;padding:3rem;max-width:60rem}.cxsync-3751804845{}.cxsync-3751804845 ul{margin:-1.5rem}.cxsync-3751804845 li{margin:1.5rem}.cxsync-2423527651{font-family:Montserrat, Arial, sans-serif;font-weight:900}.cxsync-1263781436{margin-bottom:1.5rem}.cxsync-324972854{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:2.48832rem;margin-top:1.5rem;margin-bottom:1.5rem}.cxsync-324972854:first-child{margin-top:0px}.cxsync-2590042826{}.cxsync-2590042826 h1{padding:3rem 0 1.5rem}.cxsync-2590042826 h2{padding:3rem 0 1.5rem}.cxsync-2590042826 h3{padding:3rem 0 1.5rem}.cxsync-2590042826 a{opacity:0.75;border-bottom:2px solid #8BBF47;transition:ease-out .25s}.cxsync-2590042826 a:hover{opacity:1}.cxsync-2590042826 .highlight{background-color:#E7F2D9}.cxsync-137111509{font-family:Montserrat, Arial, sans-serif}.cxsync-137111509 p{padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 ul{list-style-type:disc;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 ol{list-style-type:decimal;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-137111509 li{margin-left:1.5rem}.cxsync-137111509 blockquote{max-width:37.5rem;padding-bottom:1.5rem;margin:0 auto;text-align:center;line-height:1.5;font-weight:700;font-size:1.2rem}.cxsync-137111509 blockquote:before{content:open-quote}.cxsync-137111509 blockquote:after{content:close-quote}.cxsync-137111509 img{display:block;margin:0 auto;width:auto;max-width:100%}.cxsync-137111509 iframe{padding-bottom:3rem}.cxsync-137111509 strong{font-weight:700}.cxsync-137111509 em{font-style:italic}.cxsync-137111509 h1{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:2.0736rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h2{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.728rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h3{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.44rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-137111509 h4{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1.2rem;padding-bottom:1.5rem}.cxsync-137111509 h5{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:1rem;padding-bottom:1.5rem}.cxsync-137111509 h6{font-family:Montserrat, Arial, sans-serif;font-weight:900;font-size:0.8333333333333334rem;padding-bottom:1.5rem}.cxsync-137111509 a{opacity:0.75;border-bottom:2px solid #8BBF47;transition:ease-out .25s}.cxsync-137111509 a:hover{opacity:1}.cxsync-137111509 .highlight{background-color:#E7F2D9}.cxsync-2282092937{position:relative;margin-top:0.75rem;margin-bottom:1.5rem;padding:0.75rem 1.5rem;background-color:#F4F4F4;font-size:0.8333333333333334rem;line-height:1.75}.cxsync-4258600099{position:absolute;bottom:100%;right:0px;padding:0.375rem 0.75rem;background-color:#F4F4F4;font-size:0.6944444444444444rem}</style><script>
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-PN6K34');</script></head><body><main id="mount"><div class="cxsync-279093126" data-reactroot="" data-reactid="1" data-react-checksum="-407864694"><aside class="cxsync-2249242545" data-reactid="2"><nav class="cxsync-3751804845" data-reactid="3"><ul data-reactid="4"><li data-reactid="5"><a href="/services-engineering/" data-reactid="6">Overview</a></li><li data-reactid="7"><a href="/services-engineering/getting-started" data-reactid="8">Getting Started</a></li><li data-reactid="9"><a href="/services-engineering/components" data-reactid="10">Components</a></li><li data-reactid="11"><a href="/services-engineering/routing" data-reactid="12">Routing</a></li><li data-reactid="13"><a href="/services-engineering/state" class="cxsync-2423527651" data-reactid="14">State</a></li><li data-reactid="15"><a href="/services-engineering/styles" data-reactid="16">Styles</a></li><li data-reactid="17"><a href="/services-engineering/content" data-reactid="18">Content</a></li><li data-reactid="19"><a href="/services-engineering/integration" data-reactid="20">Integration</a></li><li data-reactid="21"><a href="/services-engineering/tests" data-reactid="22">Tests</a></li><li data-reactid="23"><a href="/services-engineering/build" data-reactid="24">Build</a></li><li data-reactid="25"><a href="/services-engineering/deploy" data-reactid="26">Deploy</a></li></ul></nav></aside><section class="cxsync-2957022663" data-reactid="27"><div data-reactid="28"><!-- react-empty: 29 --><h2 class="c11n-heading cxsync-324972854" data-reactid="30">State</h2><div class="c11n-rich-text cxsync-137111509" data-reactid="31"><h3 data-reactid="32">Redux</h3><p data-reactid="33"><!-- react-text: 34 -->We use <!-- /react-text --><a href="https://github.com/reactjs/redux" data-reactid="35">Redux</a><!-- react-text: 36 --> for application state management, when our application state starts to spread and becomes harder to manage, as opposed to just storing app state in stateful components. Redux manages the state (data) of our application in a single immutable source. It is important to understand the concepts of how we access and manipulate this state, and to understand that Redux is a simple concept at it&#x27;s core.<!-- /react-text --></p><h3 data-reactid="37">State</h3><p data-reactid="38">This refers to the current state of your application, which is represented in an immutable object.</p><div class="cxsync-2282092937" data-reactid="39"><span class="cxsync-4258600099" data-reactid="40">javascript</span><pre data-reactid="41"><code data-reactid="42">{
  users: [
    { name: &#x27;John&#x27; },
    { name: &#x27;Jane&#x27; },
    { name: &#x27;Janet&#x27; }
  ]
}</code></pre></div><h3 data-reactid="43">Actions</h3><p data-reactid="44"><!-- react-text: 45 -->To make changes to the state, you need to dispatch an action, which is a plain object that describes the change. An action contains a <!-- /react-text --><span class="highlight" data-reactid="46">type</span><!-- react-text: 47 -->, which describes the type of action, and usually a <!-- /react-text --><span class="highlight" data-reactid="48">payload</span><!-- react-text: 49 -->, which provide extra information about the action.<!-- /react-text --></p><p data-reactid="50">Actions are generally dispatched via action creators, which are simply functions that return these actions.</p><div class="cxsync-2282092937" data-reactid="51"><span class="cxsync-4258600099" data-reactid="52">javascript</span><pre data-reactid="53"><code data-reactid="54">const addUser = (name) =&gt; ({
  type: &#x27;ADD_USER&#x27;,
  payload: { name }
})</code></pre></div><h3 data-reactid="55">Reducers</h3><p data-reactid="56">A reducer is a function that can modify our state by listening to actions that have been dispatched, and returns the new state of the app.</p><p data-reactid="57">A reducer function takes two arguments every time an action is dispatched, the current state of the application, and the action that was dispatched. A reducer will then determine if it needs to make a change to the state, and either a) return the current state if no change is required or b) return the updated state.</p><div class="cxsync-2282092937" data-reactid="58"><span class="cxsync-4258600099" data-reactid="59">javascript</span><pre data-reactid="60"><code data-reactid="61">const reducer = (state, action) =&gt; {
  const { type, payload } = action

  switch (type) {
    case &#x27;ADD_USER&#x27;:
      return {
        users: [
          ...state.users,
          { name: payload.name }
        ]
      }
    default:
      return state
  }
}</code></pre></div><h3 data-reactid="62">Middleware</h3><p data-reactid="63">Redux middleware allows you to extend this flow, by hooking into actions before they are passed through the reducer.</p><p data-reactid="64"><!-- react-text: 65 -->A middleware we commonly use is <!-- /react-text --><span class="highlight" data-reactid="66">redux-thunk</span><!-- react-text: 67 -->, which allows us to handle asynchronous operations. Usually an action is a plain object, but if your action is a function, redux-thunk will call that action and provide <!-- /react-text --><span class="highlight" data-reactid="68">dispatch</span><!-- react-text: 69 --> as an argument, meaning you can dispatch multiple actions in a single action creator.<!-- /react-text --></p><p data-reactid="70">The example below is an asynchronous example of our earlier addUser example, in this case it will fire an action to indicate it will make the request, and then either a success or failure action depending on whether the request was successful.</p><div class="cxsync-2282092937" data-reactid="71"><span class="cxsync-4258600099" data-reactid="72">javascript</span><pre data-reactid="73"><code data-reactid="74">const addUser = (name) =&gt; (dispatch) =&gt; {
  dispatch({ type: &#x27;ADDING_USER &#x27;})

  axios.post(&#x27;https://example.com/api/users&#x27;, { name })
    .then((response) =&gt; {
      dispatch({
        type: &#x27;ADD_USER&#x27;,
        payload: &#x27;name&#x27;
      })
    })
    .catch((err) =&gt; {
      dispatch({ type: &#x27;ADD_USER_FAILED&#x27; })
      return Promise.reject(err)
    })
}</code></pre></div><h3 data-reactid="75">Connecting Components</h3><p data-reactid="76">We mentioned in the Components section, that we can create connected components, which are able to interact with our Redux store. This is achieved using the &#x27;connect&#x27; higher order component from the &#x27;react-redux&#x27; package.</p><p data-reactid="77"><!-- react-text: 78 -->The <!-- /react-text --><a href="https://github.com/reactjs/react-redux/blob/master/docs/api.md#connectmapstatetoprops-mapdispatchtoprops-mergeprops-options" data-reactid="79">connect</a><!-- react-text: 80 --> docs will explain in full, but basically it takes two arguments we are interested in, typically named &#x27;mapStateToProps&#x27; and &#x27;mapDispatchToProps&#x27;.<!-- /react-text --></p><p data-reactid="81">mapStateToProps is a function that will pass you the store as the first argument, and return an object of the props that will be passed into your component.</p><p data-reactid="82">mapDispatchToProps can take an object of action creators that will be prepared to be dispatched, and also passed in as props to your component.</p><p data-reactid="83">The below component will list all of the users in our store, and provides a button that will dispatch our addUser action creator.</p><div class="cxsync-2282092937" data-reactid="84"><span class="cxsync-4258600099" data-reactid="85">javascript</span><pre data-reactid="86"><code data-reactid="87">import React from &#x27;react&#x27;
import { connect } from &#x27;react-redux&#x27;
import { addUser } from &#x27;path/to/our/store&#x27;

const Users = ({
  addUser,
  users = []
}) =&gt; (
  &lt;div&gt;
    &lt;ul&gt;
      {users.map((user) =&gt; &lt;li&gt;{user}&lt;/li&gt;)}
    &lt;/ul&gt;
    &lt;button onClick={() =&gt; addUser(&#x27;Joe&#x27;)}&gt;Add Joe&lt;/button&gt;
  &lt;/div&gt;
)

const mapStateToProps = (state) =&gt; ({ users: state.users })
const mapDispatchToProps = { addUser }

export default connect(mapStateToProps, mapDispatchToProps)(Users)</code></pre></div><h3 data-reactid="88">Resources</h3><ul data-reactid="89"><li data-reactid="90"><a href="https://redux.js.org/docs/introduction/CoreConcepts.html" data-reactid="91">Redux</a><!-- react-text: 92 -->: state management library<!-- /react-text --></li><li data-reactid="93"><a href="https://github.com/gaearon/redux-thunk" data-reactid="94">Redux Thunk</a><!-- react-text: 95 -->: middleware for dispatching asynchronous actions<!-- /react-text --></li><li data-reactid="96"><a href="https://github.com/reactjs/react-redux/blob/master/docs/api.md" data-reactid="97">React Redux</a><!-- react-text: 98 -->: connects our store to our React components<!-- /react-text --></li></ul></div></div></section></div></main><script id="initial-state" type="application/json">{"blank":{}}</script><script src="/services-engineering/main-88ff4ca322d1d509894d.js"></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PN6K34" height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript></body></html>