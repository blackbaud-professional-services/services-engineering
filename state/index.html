<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="CnvHeaderVersion" content="v5.0"/><title data-react-helmet="true">State | Services Engineering</title><link rel="stylesheet" href="/services-engineering/main-39a7a5caf8a6cfc0d5c2.css"/><link rel="icon" type="image/png" href="/services-engineering/3da6f308c48368a5ae9ab541b51f9c45.png"/><style>.cxsync-3701282619{padding-top:3rem;color:#282828;font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-2064477598{padding:6rem 1.5rem;margin:0 auto;max-width:60rem}.cxsync-1367606422{padding:3rem 1.5rem;margin:0 auto;max-width:60rem}.cxsync-2345956983{max-width:39rem}.cxsync-1295578920{transform:translateZ(0);transition:all 1s ease;position:fixed;top:0px;left:0px;right:0px;background:white;z-index:1}.cxsync-990967205{padding:1.5rem;margin:0 auto;width:100%;max-width:60rem;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cxsync-1131475801{font-size:20px;position:relative;top:0.12em;display:inline-block}.cxsync-2990027002{max-width:39rem}.cxsync-2990027002 h1{padding:3rem 0 1.5rem}.cxsync-2990027002 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-2990027002 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-2990027002 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-2990027002 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-2990027002 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-2990027002 a{border-bottom:2px solid #282828}.cxsync-2990027002 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-2990027002 > :first-child{padding-top:0px}.cxsync-2415678169{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;max-width:39rem}.cxsync-2415678169 p{padding-bottom:1.5rem;line-height:1.5}.cxsync-2415678169 ul{list-style-type:disc;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-2415678169 ol{list-style-type:decimal;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-2415678169 li{margin-left:1.5rem}.cxsync-2415678169 blockquote{max-width:37.5rem;padding-bottom:1.5rem;margin:0 auto;text-align:center;line-height:1.5;font-weight:700;font-size:1.2rem}.cxsync-2415678169 blockquote:before{content:open-quote}.cxsync-2415678169 blockquote:after{content:close-quote}.cxsync-2415678169 img{display:block;margin:0 auto;width:auto;max-width:100%}.cxsync-2415678169 iframe{padding-bottom:3rem}.cxsync-2415678169 strong{font-weight:700}.cxsync-2415678169 em{font-style:italic}.cxsync-2415678169 h1{font-family:"helvetica neue", arial, sans-serif;font-weight:400;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:2.0736rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-2415678169 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.728rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-2415678169 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.44rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-2415678169 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.2rem;padding-bottom:1.5rem}.cxsync-2415678169 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1rem;padding-bottom:1.5rem}.cxsync-2415678169 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:0.8333333333333334rem;padding-bottom:1.5rem}.cxsync-2415678169 a{border-bottom:2px solid #282828}.cxsync-2415678169 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-2415678169 > :first-child{padding-top:0px}.cxsync-136603613{max-width:27rem}.cxsync-136603613 h1{padding:3rem 0 1.5rem}.cxsync-136603613 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-136603613 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-136603613 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-136603613 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-136603613 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-136603613 a{border-bottom:2px solid #282828}.cxsync-136603613 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-136603613 > :first-child{padding-top:0px}.cxsync-1745152266{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;max-width:27rem}.cxsync-1745152266 p{padding-bottom:1.5rem;line-height:1.5}.cxsync-1745152266 ul{list-style-type:disc;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-1745152266 ol{list-style-type:decimal;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-1745152266 li{margin-left:1.5rem}.cxsync-1745152266 blockquote{max-width:37.5rem;padding-bottom:1.5rem;margin:0 auto;text-align:center;line-height:1.5;font-weight:700;font-size:1.2rem}.cxsync-1745152266 blockquote:before{content:open-quote}.cxsync-1745152266 blockquote:after{content:close-quote}.cxsync-1745152266 img{display:block;margin:0 auto;width:auto;max-width:100%}.cxsync-1745152266 iframe{padding-bottom:3rem}.cxsync-1745152266 strong{font-weight:700}.cxsync-1745152266 em{font-style:italic}.cxsync-1745152266 h1{font-family:"helvetica neue", arial, sans-serif;font-weight:400;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:2.0736rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1745152266 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.728rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1745152266 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.44rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1745152266 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.2rem;padding-bottom:1.5rem}.cxsync-1745152266 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1rem;padding-bottom:1.5rem}.cxsync-1745152266 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:0.8333333333333334rem;padding-bottom:1.5rem}.cxsync-1745152266 a{border-bottom:2px solid #282828}.cxsync-1745152266 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-1745152266 > :first-child{padding-top:0px}.cxsync-3712203969{border-bottom:2px solid #f5f5f5}.cxsync-594816135{display:flex;flex-wrap:wrap;margin-left:-0.75rem;margin-right:-0.75rem}.cxsync-1654653318{display:block;padding:0.75rem;font-size:0.9128709291752769rem;border-bottom:2px solid transparent}.cxsync-1662634949{padding-right:1.5rem;padding-left:1.5rem;margin:0 auto;max-width:60rem}.cxsync-3645621543{border-bottom:2px solid #282828}.cxsync-343116390{}.cxsync-343116390 h1{padding:3rem 0 1.5rem}.cxsync-343116390 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-343116390 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;padding:3rem 0 1.5rem}.cxsync-343116390 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-343116390 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-343116390 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-343116390 a{border-bottom:2px solid #282828}.cxsync-343116390 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-343116390 > :first-child{padding-top:0px}.cxsync-1076432855{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased}.cxsync-1076432855 p{padding-bottom:1.5rem;line-height:1.5}.cxsync-1076432855 ul{list-style-type:disc;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-1076432855 ol{list-style-type:decimal;list-style-position:outside;padding-bottom:1.5rem;line-height:1.5}.cxsync-1076432855 li{margin-left:1.5rem}.cxsync-1076432855 blockquote{max-width:37.5rem;padding-bottom:1.5rem;margin:0 auto;text-align:center;line-height:1.5;font-weight:700;font-size:1.2rem}.cxsync-1076432855 blockquote:before{content:open-quote}.cxsync-1076432855 blockquote:after{content:close-quote}.cxsync-1076432855 img{display:block;margin:0 auto;width:auto;max-width:100%}.cxsync-1076432855 iframe{padding-bottom:3rem}.cxsync-1076432855 strong{font-weight:700}.cxsync-1076432855 em{font-style:italic}.cxsync-1076432855 h1{font-family:"helvetica neue", arial, sans-serif;font-weight:400;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:2.0736rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1076432855 h2{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.728rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1076432855 h3{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.44rem;padding-bottom:1.5rem;padding:3rem 0 1.5rem}.cxsync-1076432855 h4{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1.2rem;padding-bottom:1.5rem}.cxsync-1076432855 h5{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:1rem;padding-bottom:1.5rem}.cxsync-1076432855 h6{font-family:"helvetica neue", arial, sans-serif;font-weight:500;line-height:1.5;-webkit-font-smoothing:antialiased;font-size:0.8333333333333334rem;padding-bottom:1.5rem}.cxsync-1076432855 a{border-bottom:2px solid #282828}.cxsync-1076432855 .highlight{display:inline-block;margin:-0.1875rem;padding:0.1875rem;background-color:#eee}.cxsync-1076432855 > :first-child{padding-top:0px}.cxsync-3248942999{position:relative;margin-top:3.75rem;margin-bottom:3rem;padding:0.75rem 1.5rem;background-color:#f5f5f5;font-size:0.8333333333333334rem;line-height:1.75;font-family:monaco, Consolas, "Lucida Console", monospace}.cxsync-2589499036{position:absolute;bottom:100%;right:0px;padding:0.375rem 0.75rem;background-color:#f5f5f5;font-size:0.6944444444444444rem}</style><script>
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-PN6K34');</script></head><body><main id="mount"><div class="cxsync-3701282619" data-reactroot="" data-reactid="1" data-react-checksum="-2050459274"><div style="box-shadow:0 15px 30px 0 rgba(0,0,0,0.00);" class="cxsync-1295578920" data-reactid="2"><div class="cxsync-990967205" data-reactid="3"><a href="/services-engineering/" data-reactid="4"><span class="cxsync-1131475801" data-reactid="5">🖥</span><!-- react-text: 6 --> Services Engineering<!-- /react-text --></a><div data-reactid="7"></div></div></div><div class="cxsync-2064477598" data-reactid="8"><div class="c11n-rich-text cxsync-2415678169" data-reactid="9"><h1 data-reactid="10">The following is a guide to how we build apps in services. We mostly build Universal JavaScript apps, and we have a collection of tools to help us.</h1></div><div class="c11n-rich-text cxsync-1745152266" data-reactid="11"><p data-reactid="12">Universal, or Isomorphic, JavaScript describes applications where the same codebase runs both on the server and in the client.</p></div></div><nav class="cxsync-3712203969" data-reactid="13"><div class="cxsync-1662634949" data-reactid="14"><ul class="cxsync-594816135" data-reactid="15"><li data-reactid="16"><a class="cxsync-1654653318" href="/services-engineering/" data-reactid="17">Getting Started</a></li><li data-reactid="18"><a class="cxsync-1654653318" href="/services-engineering/components" data-reactid="19">Components</a></li><li data-reactid="20"><a class="cxsync-1654653318" href="/services-engineering/routing" data-reactid="21">Routing</a></li><li data-reactid="22"><a class="cxsync-1654653318 cxsync-3645621543" href="/services-engineering/state" data-reactid="23">State</a></li><li data-reactid="24"><a class="cxsync-1654653318" href="/services-engineering/styles" data-reactid="25">Styles</a></li><li data-reactid="26"><a class="cxsync-1654653318" href="/services-engineering/content" data-reactid="27">Content</a></li><li data-reactid="28"><a class="cxsync-1654653318" href="/services-engineering/integration" data-reactid="29">Integration</a></li><li data-reactid="30"><a class="cxsync-1654653318" href="/services-engineering/tests" data-reactid="31">Tests</a></li><li data-reactid="32"><a class="cxsync-1654653318" href="/services-engineering/build" data-reactid="33">Build</a></li><li data-reactid="34"><a class="cxsync-1654653318" href="/services-engineering/deploy" data-reactid="35">Deploy</a></li></ul></div></nav><section class="cxsync-1367606422" data-reactid="36"><div class="cxsync-2345956983" data-reactid="37"><div data-reactid="38"><!-- react-empty: 39 --><div class="c11n-rich-text cxsync-1076432855" data-reactid="40"><h3 data-reactid="41">Redux</h3><p data-reactid="42"><!-- react-text: 43 -->We use <!-- /react-text --><a href="https://github.com/reactjs/redux" data-reactid="44">Redux</a><!-- react-text: 45 --> for application state management, when our application state starts to spread and becomes harder to manage, as opposed to just storing app state in stateful components. Redux manages the state (data) of our application in a single immutable source. It is important to understand the concepts of how we access and manipulate this state, and to understand that Redux is a simple concept at it&#x27;s core.<!-- /react-text --></p><h3 data-reactid="46">State</h3><p data-reactid="47">This refers to the current state of your application, which is represented in an immutable object.</p><div class="cxsync-3248942999" data-reactid="48"><span class="cxsync-2589499036" data-reactid="49">javascript</span><pre data-reactid="50"><code data-reactid="51">{
  users: [
    { name: &#x27;John&#x27; },
    { name: &#x27;Jane&#x27; },
    { name: &#x27;Janet&#x27; }
  ]
}</code></pre></div><h3 data-reactid="52">Actions</h3><p data-reactid="53"><!-- react-text: 54 -->To make changes to the state, you need to dispatch an action, which is a plain object that describes the change. An action contains a <!-- /react-text --><span class="highlight" data-reactid="55">type</span><!-- react-text: 56 -->, which describes the type of action, and usually a <!-- /react-text --><span class="highlight" data-reactid="57">payload</span><!-- react-text: 58 -->, which provide extra information about the action.<!-- /react-text --></p><p data-reactid="59">Actions are generally dispatched via action creators, which are simply functions that return these actions.</p><div class="cxsync-3248942999" data-reactid="60"><span class="cxsync-2589499036" data-reactid="61">javascript</span><pre data-reactid="62"><code data-reactid="63">const addUser = (name) =&gt; ({
  type: &#x27;ADD_USER&#x27;,
  payload: { name }
})</code></pre></div><h3 data-reactid="64">Reducers</h3><p data-reactid="65">A reducer is a function that can modify our state by listening to actions that have been dispatched, and returns the new state of the app.</p><p data-reactid="66">A reducer function takes two arguments every time an action is dispatched, the current state of the application, and the action that was dispatched. A reducer will then determine if it needs to make a change to the state, and either a) return the current state if no change is required or b) return the updated state.</p><div class="cxsync-3248942999" data-reactid="67"><span class="cxsync-2589499036" data-reactid="68">javascript</span><pre data-reactid="69"><code data-reactid="70">const reducer = (state, action) =&gt; {
  const { type, payload } = action

  switch (type) {
    case &#x27;ADD_USER&#x27;:
      return {
        users: [
          ...state.users,
          { name: payload.name }
        ]
      }
    default:
      return state
  }
}</code></pre></div><h3 data-reactid="71">Middleware</h3><p data-reactid="72">Redux middleware allows you to extend this flow, by hooking into actions before they are passed through the reducer.</p><p data-reactid="73"><!-- react-text: 74 -->A middleware we commonly use is <!-- /react-text --><span class="highlight" data-reactid="75">redux-thunk</span><!-- react-text: 76 -->, which allows us to handle asynchronous operations. Usually an action is a plain object, but if your action is a function, redux-thunk will call that action and provide <!-- /react-text --><span class="highlight" data-reactid="77">dispatch</span><!-- react-text: 78 --> as an argument, meaning you can dispatch multiple actions in a single action creator.<!-- /react-text --></p><p data-reactid="79">The example below is an asynchronous example of our earlier addUser example, in this case it will fire an action to indicate it will make the request, and then either a success or failure action depending on whether the request was successful.</p><div class="cxsync-3248942999" data-reactid="80"><span class="cxsync-2589499036" data-reactid="81">javascript</span><pre data-reactid="82"><code data-reactid="83">const addUser = (name) =&gt; (dispatch) =&gt; {
  dispatch({ type: &#x27;ADDING_USER &#x27;})

  axios.post(&#x27;https://example.com/api/users&#x27;, { name })
    .then((response) =&gt; {
      dispatch({
        type: &#x27;ADD_USER&#x27;,
        payload: &#x27;name&#x27;
      })
    })
    .catch((err) =&gt; {
      dispatch({ type: &#x27;ADD_USER_FAILED&#x27; })
      return Promise.reject(err)
    })
}</code></pre></div><h3 data-reactid="84">Connecting Components</h3><p data-reactid="85">We mentioned in the Components section, that we can create connected components, which are able to interact with our Redux store. This is achieved using the &#x27;connect&#x27; higher order component from the &#x27;react-redux&#x27; package.</p><p data-reactid="86"><!-- react-text: 87 -->The <!-- /react-text --><a href="https://github.com/reactjs/react-redux/blob/master/docs/api.md#connectmapstatetoprops-mapdispatchtoprops-mergeprops-options" data-reactid="88">connect</a><!-- react-text: 89 --> docs will explain in full, but basically it takes two arguments we are interested in, typically named &#x27;mapStateToProps&#x27; and &#x27;mapDispatchToProps&#x27;.<!-- /react-text --></p><p data-reactid="90">mapStateToProps is a function that will pass you the store as the first argument, and return an object of the props that will be passed into your component.</p><p data-reactid="91">mapDispatchToProps can take an object of action creators that will be prepared to be dispatched, and also passed in as props to your component.</p><p data-reactid="92">The below component will list all of the users in our store, and provides a button that will dispatch our addUser action creator.</p><div class="cxsync-3248942999" data-reactid="93"><span class="cxsync-2589499036" data-reactid="94">javascript</span><pre data-reactid="95"><code data-reactid="96">import React from &#x27;react&#x27;
import { connect } from &#x27;react-redux&#x27;
import { addUser } from &#x27;path/to/our/store&#x27;

const Users = ({
  addUser,
  users = []
}) =&gt; (
  &lt;div&gt;
    &lt;ul&gt;
      {users.map((user) =&gt; &lt;li&gt;{user}&lt;/li&gt;)}
    &lt;/ul&gt;
    &lt;button onClick={() =&gt; addUser(&#x27;Joe&#x27;)}&gt;Add Joe&lt;/button&gt;
  &lt;/div&gt;
)

const mapStateToProps = (state) =&gt; ({ users: state.users })
const mapDispatchToProps = { addUser }

export default connect(mapStateToProps, mapDispatchToProps)(Users)</code></pre></div><h3 data-reactid="97">Resources</h3><ul data-reactid="98"><li data-reactid="99"><a href="https://redux.js.org/docs/introduction/CoreConcepts.html" data-reactid="100">Redux</a><!-- react-text: 101 -->: state management library<!-- /react-text --></li><li data-reactid="102"><a href="https://github.com/gaearon/redux-thunk" data-reactid="103">Redux Thunk</a><!-- react-text: 104 -->: middleware for dispatching asynchronous actions<!-- /react-text --></li><li data-reactid="105"><a href="https://github.com/reactjs/react-redux/blob/master/docs/api.md" data-reactid="106">React Redux</a><!-- react-text: 107 -->: connects our store to our React components<!-- /react-text --></li></ul></div></div></div></section></div></main><script id="initial-state" type="application/json">{"blank":{}}</script><script src="/services-engineering/main-39a7a5caf8a6cfc0d5c2.js"></script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PN6K34" height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript></body></html>